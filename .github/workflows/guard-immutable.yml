name: Guard Immutable Paths

on:
  pull_request:
    paths:
      - 'public/**'

jobs:
  enforce-immutability:
    runs-on: ubuntu-latest
    steps:
      - name: Check Actor
        if: github.actor != 'github-actions[bot]'
        run: |
          echo "ðŸš« POLICY VIOLATION: Manual modification of /public/ is prohibited."
          echo "Changes to public distribution paths must be generated by CI/CD workflows."
          echo "Please revert changes to files in /public/ and allow the automation to handle it."
          exit 1
